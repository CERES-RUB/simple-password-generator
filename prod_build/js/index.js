const e=document.querySelectorAll(".generate_on_input"),t=document.querySelector("textarea"),r=document.querySelector("#length"),c=document.querySelector("#length_indicator"),n=document.querySelector("#numbers"),o=document.querySelector("#lower_case"),a=document.querySelector("#upper_case"),l=document.querySelector("#special_characters"),u=document.querySelector("#ambigous_characters"),s=document.querySelector("#generate"),d=document.querySelector("#copy_to_clipboard"),i=document.querySelector(".tooltip"),h={numbers:"0123456789",lower_case:"abcdefghijklmnopqrstuvwxyz",upper_case:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",spacial_characters:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"},p={numbers:"23456789",lower_case:"abcdefghijkmnopqrstuvwxyz",upper_case:"ABCDEFGHJKLMNPRSTUVWXYZ",spacial_characters:"!#%&+-=?@_"};function m(e){return e[function(e,t){const r=Math.ceil(e),c=Math.floor(t);return Math.floor(Math.random()*(c-r+1)+r)}(0,e.length-1)]}function _(e,t,r,c,n,o){if(!(t||r||c||n))return"lol";let a={};a=o?h:p;let l="",u="";t&&(u+=a.numbers,l+=m(a.numbers)),r&&(u+=a.lower_case,l+=m(a.lower_case)),c&&(u+=a.upper_case,l+=m(a.upper_case)),n&&(u+=a.spacial_characters,l+=m(a.spacial_characters));for(let t=l.length+1;t<=e;t++)l+=m(u);return l=function(e){let t=e.split("");for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t.join("")}(l),l}function y(){let e=parseInt(r.value),c=n.checked,s=o.checked,d=a.checked,i=l.checked,h=u.checked;t.textContent=_(e,c,s,d,i,h)}window.addEventListener("load",(e=>{y()}));for(let t of e)t.addEventListener("input",(e=>{y()}));r.addEventListener("input",(e=>{c.innerText=r.value})),s.addEventListener("click",(e=>{y()})),d.addEventListener("click",(async e=>{try{await navigator.clipboard.writeText(t.textContent),i.classList.toggle("hidden"),setTimeout((()=>i.classList.add("hidden")),2e3)}catch(e){console.error("Failed to copy: ",e)}}));